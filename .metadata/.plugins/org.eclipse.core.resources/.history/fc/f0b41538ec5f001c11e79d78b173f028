package com.pizzahut.dao;

import java.sql.Statement;
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;

import com.pizzahut.model.Admin;
import com.pizzahut.model.Product;

public class Admindao {

		
		
		public   Admin validateadmin(String email1, String pass)
		{
			ConnectionUtill con=new ConnectionUtill();
			Connection c=con.getDbconnection();
			String query1="select * from admins where admin_email='"+email1+"' and password='"+pass+"'";
		Admin admin=null;
			try {
				Statement stmt=c.createStatement();
				ResultSet rs=stmt.executeQuery(query1);
				if(rs.next())
				{	
				admin=new Admin(email1,rs.getString(2),pass);
				}
			} catch (SQLException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
			return admin;
		}
			public static  void addproduct(Product products) {
				PreparedStatement pstmt=null;
				ConnectionUtill con=new ConnectionUtill();
				Connection c=con.getDbconnection();
				System.out.println(products.getProductname()+products.getSize()+products.getPrice());
				String query2="insert into products(product_name,product_size,price)values(?,?,?)";
				try {
					pstmt=c.prepareStatement(query2);
					pstmt.setString(1, products.getProductname());
					pstmt.setString(2, products.getSize());
					pstmt.setDouble(3, products.getPrice());
					int i=pstmt.executeUpdate(query2);
					System.out.println(i+" row inserted");
				} catch (Exception e) {
					// TODO Auto-generated catch block
					e.printStackTrace();
					System.out.println("Value not Setted in the query");
				}
				
			}
}

